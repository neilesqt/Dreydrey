<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Click to view surprise ğŸ«¶ğŸ»</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
</head>

<body>

<div class="card">
  <div class="card-content">
    <img src="you.jpg" class="side-img left">
    <div class="center-text">
      <h1>Hallo Baby ğŸ«¶ğŸ»</h1>
      <p>Can I be your Valentine?</p>

      <div id="timer"></div>

      <button id="yesBtn">YES ğŸ’•</button>
      <button id="noBtn">No ğŸ¥¹</button>
      
      <div id="qr"></div>
      <p class="signature">â€” from your lover Dreydrey ğŸ’Œ</p>
      <div id="qr"></div>
    </div>
    <img src="her.jpg" class="side-img right">
  </div>
</div>

<audio id="loveSong" loop>
  <source src="Libuwan.mp3" type="audio/mpeg">
</audio>

<script>
/* Floating hearts */
setInterval(() => {
  const h = document.createElement("div");
  h.className = "heart";
  h.innerHTML = "ğŸŒ¸";
  h.style.left = Math.random() * 100 + "vw";
  h.style.fontSize = (24 + Math.random() * 40) + "px"; // bigger hearts
  document.body.appendChild(h);
  setTimeout(() => h.remove(), 6000);
}, 400);

/* Fake No -> turns into YES */
const noBtn = document.getElementById("noBtn");
noBtn.onclick = () => {
  noBtn.innerText = "YES ğŸ’•";
  noBtn.style.background = "#ff4d6d";
  noBtn.style.color = "white";
  noBtn.onclick = yesAction;
};

/* YES button */
const yesBtn = document.getElementById("yesBtn");
yesBtn.onclick = yesAction;

function yesAction() {
  const song = document.getElementById("loveSong");
  song.play().then(() => {
    setTimeout(() => {
      window.location.href =
        "mailto:neilandreyescueta@gmail.com?subject=Valentine%20Answer&body=I%20said%20YES%20ğŸ’–";
    }, 500);
  });
}

/* Countdown timer */
function updateTimer() {
  const now = new Date();
  const year = now.getMonth() > 1 ? now.getFullYear() + 1 : now.getFullYear();
  const valentines = new Date(`February 14, ${year} 00:00:00`);
  const diff = valentines - now;

  const d = Math.floor(diff / (1000 * 60 * 60 * 24));
  const h = Math.floor(diff / (1000 * 60 * 60)) % 24;
  const m = Math.floor(diff / (1000 * 60)) % 60;

  document.getElementById("timer").innerText =
    `â³ ${d} days ${h} hrs ${m} min until Valentineâ€™s Day`;
}
setInterval(updateTimer, 1000);
updateTimer();

/* QR code (FIXED) */
const imageURL = "https://www.canva.com/design/DAHAncoRzGw/EhBoXUThK95uDXDLE-wu6Q/edit?utm_content=DAHAncoRzGw&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton"; // MUST end in .jpg or .png

const qrContainer = document.getElementById("qr");
qrContainer.innerHTML = "";

// label
const qrLabel = document.createElement("p");
qrLabel.innerText = "ğŸ“¸ Scan me ğŸ’Œ";
qrContainer.appendChild(qrLabel);

// QR image
const qrImg = document.createElement("img");
qrImg.src =
  "https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=" +
  encodeURIComponent(imageURL);
qrImg.alt = "Scan me ğŸ’Œ";

qrContainer.appendChild(qrImg);
</script>

</body>
</html>
